<%= render("web/task/shared/header") %>

<div id="<%= dom_id(@task_item) %>">
  <h2>Task item #<%= @task_item.id %></h2>

  <div>
    <strong>Actions:</strong>
    <% if @task_item.incomplete? %>
      <%= link_to(
        "✅ Complete",
        task_list_items_complete_path(Current.task_list_id, @task_item, filter: "show"),
        title: "Mark as complete",
        data: { turbo_method: :put },
        style: "text-decoration: none;"
      ) %>
    <% else %>
      <%= link_to(
        "❌ Incomplete",
        task_list_items_incomplete_path(Current.task_list_id, @task_item, filter: "show"),
        title: "Mark as incomplete",
        data: { turbo_method: :put },
        style: "text-decoration: none;"
      ) %>
    <% end %>
    |
    <%= link_to(
      "📝 Edit",
      edit_task_list_item_path(Current.task_list_id, @task_item, filter: params[:filter]),
      style: "text-decoration: none;") %>
    |
    <%= link_to(
      "🗑 Delete",
      task_list_item_path(Current.task_list_id, @task_item, filter: params[:filter]),
      data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this task item?" },
      style: "text-decoration: none;",) %>
  </div>

  <table>
    <tbody>
      <tr>
        <th>Name</th>
        <td style="width: 100%;"><%= @task_item.name %></td>
      </tr>
      <tr>
        <th>Description</th>
        <td><%= @task_item.description %></td>
      </tr>
      <tr>
        <th>Completed</th>
        <td>
          <%= @task_item.completed_at %>
        </td>
      </tr>
      <tr>
        <th>Created at</th>
        <td><%= @task_item.created_at %></td>
      </tr>
      <tr>
        <th>Updated at</th>
        <td><%= @task_item.updated_at %></td>
      </tr>
    </tbody>
  </table>

  <p>
    Back to <%= link_to("task items", task_list_items_path(Current.task_list_id, filter: params[:filter])) %>
  </p>
</div>
